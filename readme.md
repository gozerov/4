# Интерпретатор виртуальной машины

Этот проект реализует ассемблер и интерпретатор для простой учебной виртуальной машины (УВМ). Виртуальная машина обрабатывает бинарные инструкции и поддерживает базовые операции, такие как загрузка констант, сохранение значений в память и выполнение сравнений.

---

## Как это работает

### Входные данные
1. **Ассемблер**: Переводит человекочитаемую программу (файл `program.txt`) в бинарный формат (`program.bin`).
2. **Интерпретатор**: Выполняет бинарный файл, интерпретируя инструкции и сохраняя результат выполнения.

### Инструкции
- `LOAD_CONST <число>`: Загрузить константу в аккумулятор.
- `STORE_MEM <адрес>`: Сохранить текущее значение аккумулятора в память по указанному адресу.
- `GREATER_EQ <адрес>`: Сравнить значение в памяти по адресу с аккумулятором, результат (`0` или `1`) сохранить в аккумулятор.

---

## Пример выполнения

### Входные векторы
Даны два вектора:
- `vec1 = [3, 6, 1, 8]`
- `vec2 = [2, 6, 5, 4]`

Цель: выполнить поэлементное сравнение `>=` и сохранить результат в новый вектор.

### Программа (program.txt)
```plaintext
LOAD_CONST 3      # vec1[0]
STORE_MEM 0
LOAD_CONST 2      # vec2[0]
GREATER_EQ 0
STORE_MEM 4

LOAD_CONST 6      # vec1[1]
STORE_MEM 1
LOAD_CONST 6      # vec2[1]
GREATER_EQ 1
STORE_MEM 5

LOAD_CONST 1      # vec1[2]
STORE_MEM 2
LOAD_CONST 5      # vec2[2]
GREATER_EQ 2
STORE_MEM 6

LOAD_CONST 8      # vec1[3]
STORE_MEM 3
LOAD_CONST 4      # vec2[3]
GREATER_EQ 3
STORE_MEM 7
```

### Выполнение
1. Собрать бинарный файл:
   ```bash
   python assembler.py program.txt program.bin log.json
   ```

2. Выполнить интерпретатор:
   ```bash
   python interpreter.py program.bin result.json 4 7
   ```

---



## Результат

Файл `result.json` после выполнения программы:
```json
{
    "4": 1,
    "5": 1,
    "6": 0,
    "7": 1
}
```

Результирующий вектор:
```python
result_vector = [1, 1, 0, 1]
```

---

## Команды для запуска

1. **Сборка программы**:
   ```bash
   python assembler.py program.txt program.bin log.json
   ```

2. **Выполнение интерпретатора**:
   ```bash
   python interpreter.py program.bin result.json 4 7
   ```